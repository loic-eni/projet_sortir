{% extends 'base.html.twig' %}

{% block title %}Liste des localisations{% endblock %}

{% block body %}
    {{ form_start(form) }}
    <div class="mx-auto my-10 font-semibold text-2xl text-gray-800 text-center">
        <h1>GÃ©rer les locations</h1>
    </div>
    <div class="p-6 bg-white mx-auto rounded-2xl shadow-xl gap-20 w-3/4">
        <div class="flex-center space-between">
            <label for="nameSearch" class="input input-bordered input-sm input-primary flex items-center gap-2">
                Le nom de la sortie contient:
                <input type="text" id="{{ field_name(form.name) }}" name="{{ field_name(form.name) }}" value="{{ field_value(form.name) }}"/>
            </label>
        </div>
        <input type="submit" id="{{ field_name(form.find) }}" name="{{ field_name(form.find) }}" value="Rechercher" class="flex justify-center btn btn-active btn-primary  hover:bg-white hover:text-gray-500 text-gray-100 p-3  rounded-full tracking-wide font-semibold  shadow-lg cursor-pointer transition ease-in duration-500">
    </div>
    {{ form_end(form) }}
    {% if locations|length > 0 %}
    <div class="p-6 bg-white mx-auto my-6 rounded-xl shadow-xl flex-col w-5/6 pt-0 max-h-[70vh] overflow-y-scroll">
        <table class="table overflow-x-auto max-h-200">
            <thead class="sticky top-0 bg-white">
                <tr>
                    <td>Nom</td>
                    <td>Ville</td>
                    <td>Code postal</td>
                    <td>Actions</td>
                </tr>
            </thead>
            <tbody>
                {% for location in locations %}
                    <tr>
                        <td>{{ location.name }}</td>
                        <td>{{ location.city.name }}</td>
                        <td>{{ location.city.zip }}</td>
                        <td>
                            <a href="{{ path('location_edit', {'id': location.id}) }}" class="btn btn-xs btn-primary">Modifier</a>
                            <a href="{{ path('location_delete', {'id': location.id}) }}" class="btn btn-xs btn-error">Supprimer</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="p-6 my-6 bg-white mx-auto rounded-2xl shadow-xl gap-20 flex-col w-3/4 flex-center ">
        <p class="text-gray-400">
            Aucun resultat \(o_o)/
        </p>
    </div>
    {% endif %}
    <a href="{{ path('location_create', { redirect: app.request.uri }) }}" class="btn btn-primary ml-40 mt-6 w-48">Ajouter</a>
{% endblock %}